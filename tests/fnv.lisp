(defpackage lisp-hashpalooza/tests/fnv
  (:use :cl
	:lisp-hashpalooza/fnv))
(in-package :lisp-hashpalooza/tests/fnv)

(defun test-fnv (fnv-size bytes expected-hash test-name)
  (let ((result (funcall fnv-size bytes)))
    (if (= result expected-hash)
        (format t "~a OK~%" test-name)
        (format t "~a FAIL~%~TExpected: ~a~%~TFound: ~a~%" test-name expected-hash result))))

(test-fnv #'fnv-32a "Abdeltwab" 4250523589 "FNV-32a")
(test-fnv #'fnv-64a "Abdeltwab" 15868749042133058245 "FNV-64a")
(test-fnv #'fnv-128a "Abdeltwab" 245623176195325149255754323885064107269 "FNV-128a")
(test-fnv #'fnv-256a "Abdeltwab" 5579611486752253052114639925472386104307805330558211631792199649318346887557 "FNV-256a")
(test-fnv #'fnv-512a "Abdeltwab" 4183189348975840892679718008458342356023693137418566086551877465692366837857271243016033820937012125405659320146949274230162581706406812609194990192150061 "FNV-512a")
(test-fnv #'fnv-1024a "Abdeltwab" 173425379102706622578532913025069130275212387278252719466505271693154582309951430084388112031209010948230797115055057003075801645053415509005786294812901003658053499691324206877090570962628241091460876411375312590239656087346604315146095117997620945280199979914570481870728797559041362462308474942719305707121 "FNV-1024a")
